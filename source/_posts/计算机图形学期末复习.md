---
title: 计算机图形学期末复习
category: 笔记
tags:
  - 图形学
banner_img: /img/banner/graphics.jpg
index_img: /img/cover/graphics.jpg
excerpt: 计算机图形学期末复习的笔记
date: 2023-02-24 10:24:45
---
## 直线段扫描
- DDA算法
- 中点画线法
- Bresenham画线算法

### DDA算法
![](/img/content/graphics/dda.jpg)
```c
void DDALine(int x0, int y0, int x1, int y1, int color) {
  int x;
  float dx, dy, y, k;
  dx = x1 - x0;
  dy = y1 - y0;
  k = dy / dx;
  y = y0;
  for(x = x0; x <= x1; x++) {
    // y+0.5的目的是四舍五入
    drawpixel(x, int(y + 0.5), color);
    y = y + k;
  }
}
```

### 中点画线法
![](/img/content/graphics/middlepoint.jpg)
```c
void MidPointLine(int x0, int y0, int x1, int y1, int color) {
  int a, b, d1, d2, d, x, y;
  a = y0 - y1;
  b = x1 - x0;
  d = 2 * a + b;
  // M在直线上方时，增量为a
  d1 = 2 * a;
  // M在直线下方时，增量为a+b
  d2 = 2 * (a + b);
  x = x0;
  y = y0;
  drawpiexl(x, y, color);
  while(x < x1) {
    if(d < 0) {
      x++;
      y++;
      d += d2;
    } else {
      x++;
      d += d1;
    }
    drawpixel(x, y, color);
  }
}
```

### Bresenham算法
![](/img/content/graphics/bresenham.jpg)
```c
void BresenhamLine(int x0, int y0, int x1, int y1, int color) {
  int x, y, dx, dy;
  float k, e;
  dx = x1 - x0;
  dy = y1 - y0;
  k = dy / dx;
  e = -0.5;
  x = x0;
  y = y0;
  for(i = 0; i <= dx; i++) {
    drawpixel(x, y, color);
    x++;
    e += k;
    if(e >= 0) {
      y++;
      e--;
    }
  }
}
```

## 圆的扫描转换算法
- 中点算法
- 内接正多边形迫近法
- 等面积正多边形逼近法
- 生成圆弧的正负法

### 中点画圆算法
![](/img/content/graphics/middlecircle.jpg)
```c
MidpointCircle(int r, int color) {
  int x, y;
  float d;
  x = 0;
  y = r;
  d = 1.25 - r;
  drawpixel(x, y, color);
  while(x < y) {
    if(d<0) {
      d += 2 * x + 3; 
      x++; 
    } else {
      d += 2 * (x - y) + 5;
      x++;
      y--;
    }
  }
}
```

### Bresenham算法画圆算法
![](/img/content/graphics/bresenhamcircle.jpg)
```c
void CircleBres(int  radius) {
  int x = 0, y = radius, p = 3 - 2 * radius;
  while (x < y) { 
    Drawpixel(x, y, c);
    x++;
    if(p < 0) {
      p += (4 * x + 6);
    } else {
      p += (4 * (x - y) + 10);
      y--;
    }
  }
}
```

## 多边形扫描
### 射线法判断点和多边形的关系
从判断点发出射线，若交点个数为偶数（包括0）则在外部，奇数在内部

### 累计角度法判断点和多边形的关系
从点向多边形各顶点发出射线，若夹角和=0则在外部，360°则在内部

### 扫描线填充算法
步骤：`求交`、`排序`、`交点配对`、`区间填色`
活性边：与当前扫描线相交的边
有效边表：把有效边按与扫描线交点x坐标递增的顺序存放在一个链表中，此链表称为有效边表
有序边表算法：利用图形的空间连贯性和扫描线的连贯性计算下一条扫描线与边的交点

结点结构：
$
\begin{array}{|c|c|c|}
    \hline x&\Delta x(\frac{1}{k})&Y_{max}\\
    \hline
\end{array}
$
![](/img/content/graphics/et1.jpg)
![](/img/content/graphics/et2.jpg)
![](/img/content/graphics/et3.jpg)

### 种子填充算法